import{_ as k,a as C,m as g,h as l,o as n,c as a,i as c,j as w,b as e,n as u,F as d,r as p,f as x,v as W,t as P,e as L}from"./index-eJtnKc-e.js";import{p as f}from"./productStore-bo1pXAXg.js";import{c as B}from"./categoryStore-49DGKxFQ.js";import{B as V}from"./BannerComponent-d6onP5Cj.js";import{P as U,a as M}from"./PaginationComponent-H4RC3M8d.js";import{L as T}from"./LoadingComponent-B3w59vCB.js";import"./axios-G2rPRu76.js";import"./cartStore-n3y8DkMw.js";import"./sweetalert-0QGWzoUc.js";const S={components:{BannerComponent:V,ProductsCardComponent:U,PaginationComponent:M,LoadingComponent:T},data(){return{sliceProducts:[],keyWord:"",matchProducts:[]}},methods:{...C(f,["getProducts"]),updateProducts(o){this.sliceProducts=o},getMatchProducts(){this.keyWord.trim()!==""?this.matchProducts=this.products.filter(o=>o.title.match(this.keyWord)):this.matchProducts=[]},goTo(o,r){r.target.blur(),this.$refs.pagination&&this.resetPagination(),o==="products"?(this.keyWord="",this.matchProducts=[],this.$router.push("/products")):(this.keyWord="",this.matchProducts=[],this.$router.push(`/categories/${o}`))},resetPagination(){this.$refs.pagination.resetPage()}},computed:{...g(f,["products","isLoading"]),...g(B,["categories"]),recommendation(){return this.products.filter(o=>o.recommendation)}},created(){this.getProducts()}},j={class:"container"},N={class:"py-72 py-lg-90"},D={class:"d-flex flex-column flex-lg-row justify-content-lg-between mb-48"},F={class:"nav nav-underline flex-nowrap text-nowrap overflow-x-auto mb-16 mb-lg-0",role:"tablist"},R={class:"nav-item",role:"presentation"},z=["id","aria-controls","data-bs-target","onClick"],A={class:"w-75 w-md-50 w-lg-25 d-flex justify-content-lg-end"},E={class:"w-75"},I={class:"tab-content"},q={class:"row gy-48"},G={key:1,class:"mb-0 fs-6 text-center"};function H(o,r,J,K,s,i){const b=l("LoadingComponent"),_=l("BannerComponent"),m=l("ProductsCardComponent"),h=l("PaginationComponent"),y=l("RouterView");return n(),a(d,null,[c(b,{active:o.isLoading,"onUpdate:active":r[0]||(r[0]=t=>o.isLoading=t)},null,8,["active"]),c(_,null,{default:w(()=>[L("線上訂餐 / Menu")]),_:1}),e("div",j,[e("div",N,[e("div",D,[e("ul",F,[e("li",R,[e("button",{class:u(["nav-link fs-6",{active:this.$route.path==="/products"}]),id:"all-tab",type:"button",role:"tab","aria-controls":"all","data-bs-target":"#all","aria-selected":"true",onClick:r[1]||(r[1]=t=>i.goTo("products",t))},"所有餐點",2)]),(n(!0),a(d,null,p(o.categories,t=>(n(),a("li",{key:t,class:"nav-item",role:"presentation"},[e("button",{class:u(["nav-link fs-6",{active:this.$route.path===`/categories/${t.path}`}]),id:t.name+"-tab",type:"button",role:"tab","aria-controls":t.name,"data-bs-target":"#"+t.name,"aria-selected":"false",onClick:v=>i.goTo(t.path,v)},P(t.name),11,z)]))),128))]),e("div",A,[e("div",E,[x(e("input",{type:"text",class:"form-control rounded-0 border-top-0 border-start-0 border-end-0",placeholder:"請輸入關鍵字...","onUpdate:modelValue":r[2]||(r[2]=t=>s.keyWord=t),onInput:r[3]||(r[3]=(...t)=>i.getMatchProducts&&i.getMatchProducts(...t))},null,544),[[W,s.keyWord]])])])]),e("div",I,[e("div",{class:u(["tab-pane show",{active:this.$route.path==="/products"}]),id:"all",role:"tabpanel","aria-labelledby":"all-tab",tabindex:"0"},[e("div",q,[s.matchProducts.length?(n(),a(d,{key:0},[(n(!0),a(d,null,p(s.matchProducts,t=>(n(),a("div",{class:"col-md-4 col-lg-3 mb-48",key:t.id},[c(m,{item:t},null,8,["item"])]))),128)),c(h,{products:s.matchProducts,onUpdateProducts:i.updateProducts,ref:"pagination"},null,8,["products","onUpdateProducts"])],64)):s.keyWord!==""&&!s.matchProducts.length?(n(),a("p",G,"抱歉，沒有符合「 "+P(s.keyWord)+" 」的餐點唷！",1)):(n(),a(d,{key:2},[(n(!0),a(d,null,p(s.sliceProducts,t=>(n(),a("div",{class:"col-md-4 col-lg-3 mb-48",key:t.id},[c(m,{item:t},null,8,["item"])]))),128)),c(h,{products:o.products,onUpdateProducts:i.updateProducts,ref:"pagination"},null,8,["products","onUpdateProducts"])],64))])],2),c(y,{matchProducts:s.matchProducts,"key-word":s.keyWord},null,8,["matchProducts","key-word"])])])])],64)}const st=k(S,[["render",H]]);export{st as default};
