import{a as b}from"./axios-G2rPRu76.js";import{_ as g,R as w,h as a,o as v,c as x,b as e,i as o,j as m,n as u,e as k}from"./index-eJtnKc-e.js";import{t as _}from"./sweetalert-0QGWzoUc.js";var V={VITE_API:"https://vue3-course-api.hexschool.io/v2",VITE_APIPATH:"taiwang",BASE_URL:"/Vue-week8-homework/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_API:I}=V,P={components:{RouterLink:w},data(){return{user:{username:"",password:""}}},methods:{login(){b.post(`${I}/admin/signin`,this.user).then(t=>{this.$refs.form.resetForm();const{token:s,expired:i}=t.data;document.cookie=`myToken=${s}; expires=${new Date(i)};`,_("top","success",t.data.message),setTimeout(()=>this.$router.push("/admin"),1500)}).catch(t=>{_("top","error",t.response.data.message)})}}},y={class:"bg-primary vh-100 d-flex justify-content-center align-items-center"},E={class:"w-lg-50 w-xl-25 bg-white rounded-1 p-32"},R=e("div",{class:"text-center mb-24"},[e("h2",{class:"d-inline-block bg-dark text-white text-center p-16"},"泰汪泰式料理")],-1),T=e("h3",{class:"h4 text-center mb-16"},"後台登入",-1),A={class:"form-floating mb-16"},L=e("label",{for:"floatingInput"},"帳號",-1),S={class:"form-floating mb-32"},B=e("label",{for:"floatingPassword"},"密碼",-1),D=e("button",{type:"submit",class:"btn btn-dark btn-lg w-100 mb-16"},"登入",-1);function $(t,s,i,C,n,p){const l=a("v-field"),d=a("error-message"),f=a("RouterLink"),h=a("v-form");return v(),x("div",y,[e("div",E,[R,T,o(h,{ref:"form",onSubmit:p.login},{default:m(({errors:c})=>[e("div",A,[o(l,{id:"floatingInput",name:"帳號",type:"email",class:u(["form-control",{"is-invalid":c.帳號}]),modelValue:n.user.username,"onUpdate:modelValue":s[0]||(s[0]=r=>n.user.username=r),placeholder:"xxx@mail.com",rules:"required"},null,8,["modelValue","class"]),L,o(d,{name:"帳號",class:"invalid-feedback fw-bold"})]),e("div",S,[o(l,{id:"floatingPassword",name:"密碼",type:"password",class:u(["form-control",{"is-invalid":c.密碼}]),modelValue:n.user.password,"onUpdate:modelValue":s[1]||(s[1]=r=>n.user.password=r),placeholder:"Password",rules:"required"},null,8,["modelValue","class"]),B,o(d,{name:"密碼",class:"invalid-feedback fw-bold"})]),D,o(f,{to:"/",class:"btn btn-outline-gray btn-lg w-100"},{default:m(()=>[k("回到前台")]),_:1})]),_:1},8,["onSubmit"])])])}const q=g(P,[["render",$]]);export{q as default};
