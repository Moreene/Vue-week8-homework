import{m as L,a as V,_ as b,o as r,c as d,b as t,t as u,d as k,F as x,r as j,e as i,w as C,f as E,v as P,p as w,g as T,h as p,i as n,j as l,n as q,k as D}from"./index-YTSL6Rgu.js";import{c as $}from"./cartStore-QujK9ZR-.js";import{a as y}from"./axios-G2rPRu76.js";import{t as I}from"./sweetalert-tDfAiNOE.js";var M={VITE_API:"https://vue3-course-api.hexschool.io/v2",VITE_APIPATH:"taiwang",BASE_URL:"/Vue-week8-homework/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_API:N,VITE_APIPATH:S}=M,F={computed:{...L($,["cart"])},data(){return{notice:!1}},methods:{...V($,["deleteItem","getCart"]),goToCart(){this.$router.push("/cart")},increaseCartNum(s){s.qty++;const o={product_id:s.product_id,qty:s.qty};this.notice=!0,y.put(`${N}/api/${S}/cart/${s.id}`,{data:o}).then(()=>{I("top","success",`已更新 ${s.product.title} 的數量`),this.getCart(),this.notice=!1}).catch(_=>{console.log(_)})},decreaseCartNum(s){s.qty--;const o={product_id:s.product_id,qty:s.qty};this.notice=!0,y.put(`${N}/api/${S}/cart/${s.id}`,{data:o}).then(()=>{I("top","success",`已更新 ${s.product.title} 的數量`),this.getCart(),this.notice=!1}).catch(_=>{console.log(_)})}}},m=s=>(w("data-v-0ed135c3"),s=s(),T(),s),H={class:"offcanvas offcanvas-end",tabindex:"-1",id:"offcanvasRight","aria-labelledby":"offcanvasRightLabel"},B={class:"offcanvas-header border-bottom"},U={key:0,class:"offcanvas-title",id:"offcanvasRightLabel"},O=m(()=>t("button",{type:"button",class:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close"},null,-1)),z={class:"offcanvas-body d-flex flex-column p-0"},W={class:"px-16"},G={key:0,class:"text-center fs-6 mt-48"},J={class:"d-flex"},K=["src","alt"],Q={class:"d-flex flex-column justify-content-between ms-16"},X={class:"w-100"},Y={class:"fs-6 d-flex justify-content-between align-items-center mb-0"},Z=["onClick"],tt=m(()=>t("i",{class:"bi bi-trash fs-5 link-gray"},null,-1)),st=[tt],et={class:"d-flex justify-content-between align-items-center"},ot={class:"input-group w-50 h-85 d-flex align-items-end"},at=["onClick","disabled"],nt=m(()=>t("i",{class:"bi bi-dash"},null,-1)),it=[nt],ct=["onUpdate:modelValue"],lt=["onClick","disabled"],rt=m(()=>t("i",{class:"bi bi-plus"},null,-1)),dt=[rt],_t={class:"mb-0"},pt={class:"text-notoSans"},mt={class:"mt-auto border-top p-16"},ht={class:"d-flex justify-content-between mb-8"},ut=m(()=>t("p",{class:"fs-6 mb-0"},"小計",-1)),ft={class:"fs-6 fw-bold mb-0"},bt={class:"text-notoSans"},vt=m(()=>t("div",{class:"d-flex justify-content-between mb-8"},[t("p",{class:"fs-6 mb-0"},"運費"),t("p",{class:"fs-6 fw-bold mb-0"},[i("NT$ "),t("span",{class:"text-notoSans"},"0")])],-1)),gt={class:"d-flex justify-content-between mb-24"},kt=m(()=>t("p",{class:"fs-6 mb-0"},"總計",-1)),$t={class:"fs-6 fw-bold mb-0"},yt={class:"text-notoSans"},xt={class:"text-center"},Ct=["disabled"];function wt(s,o,_,g,h,a){return r(),d("div",H,[t("div",B,[s.cart.carts?(r(),d("h4",U,"購物車（"+u(s.cart.carts.length)+"）",1)):k("",!0),O]),t("div",z,[t("div",W,[s.cart.carts&&!s.cart.carts.length?(r(),d("p",G,"目前購物車內沒有任何餐點唷！")):k("",!0),(r(!0),d(x,null,j(s.cart.carts,e=>(r(),d("div",{key:e.id,class:"py-16 border-bottom"},[t("div",J,[t("img",{src:e.product.imageUrl,alt:e.product.title,class:"d-inline-block cart-img"},null,8,K),t("div",Q,[t("div",X,[t("h5",Y,[i(u(e.product.title)+" ",1),t("a",{href:"#",onClick:C(c=>s.deleteItem(e),["prevent"])},st,8,Z)])]),t("div",et,[t("div",ot,[t("button",{class:"btn btn-primary text-light d-flex justify-content-center align-items-center w-25 h-85",type:"button",onClick:c=>a.decreaseCartNum(e),disabled:e.qty===1||h.notice},it,8,at),E(t("input",{type:"text",class:"form-control text-center h-85",min:"1","onUpdate:modelValue":c=>e.qty=c,readonly:""},null,8,ct),[[P,e.qty,void 0,{number:!0}]]),t("button",{class:"btn btn-primary text-light d-flex justify-content-center align-items-center w-25 h-85",type:"button",onClick:c=>a.increaseCartNum(e),disabled:h.notice},dt,8,lt)]),t("p",_t,[i("NT$ "),t("span",pt,u(e.product.price*e.qty),1)])])])])]))),128))]),t("div",mt,[t("div",ht,[ut,t("p",ft,[i("NT$ "),t("span",bt,u(s.cart.total),1)])]),vt,t("div",gt,[kt,t("p",$t,[i("NT$ "),t("span",yt,u(s.cart.total),1)])]),t("div",xt,[t("button",{class:"btn btn-primary link-light w-75 py-8",type:"button","data-bs-dismiss":"offcanvas",disabled:s.cart.carts&&!s.cart.carts.length,onClick:o[0]||(o[0]=(...e)=>a.goToCart&&a.goToCart(...e))},"前往結帳",8,Ct)])])])])}const Tt=b(F,[["render",wt],["__scopeId","data-v-0ed135c3"]]),It={components:{CartComponent:Tt},methods:{...V($,["getCart"]),toggleHam(){this.$refs.ham.classList.toggle("active")},hideNavbar(){const s=this.$refs.navbarNav;s.classList.contains("show")&&(s.classList.remove("show"),this.$refs.ham.classList.remove("active"))}},computed:{...L($,["cart"]),isLinkActive(){return this.$route.path.startsWith("/products")||this.$route.path.startsWith("/categories")}},created(){this.getCart()}},R=s=>(w("data-v-8d39be8e"),s=s(),T(),s),Nt={class:"navbar navbar-expand-md bg-dark py-16 sticky-top"},St={class:"container"},Lt={class:"fs-4 mb-0 d-none d-md-block"},Vt=R(()=>t("div",{class:"ham-line position-absolute d-block top-50 start-50 translate-middle"},null,-1)),Rt=[Vt],At={class:"navbar-nav d-none d-md-block d-md-flex"},jt={class:"nav-item"},Et={class:"nav-item"},Pt={class:"nav-item"},qt={class:"nav-item"},Dt={class:"fs-4 mb-0 d-md-none"},Mt={class:"position-relative"},Ft=R(()=>t("a",{class:"btn btn-dark border-0 cart-link p-0 pe-8","data-bs-toggle":"offcanvas",href:"#offcanvasRight",role:"button","aria-controls":"offcanvasRight"},[t("i",{class:"bi bi-cart3 fs-3"})],-1)),Ht={key:0,class:"cart-num bg-danger text-white rounded-circle d-flex justify-content-center align-items-center position-absolute"},Bt={key:0,class:"fs-8"},Ut={class:"navbar-nav text-center px-16"},Ot={class:"nav-item"},zt={class:"nav-item"},Wt={class:"nav-item"},Gt={class:"nav-item"};function Jt(s,o,_,g,h,a){const e=p("RouterLink"),c=p("CartComponent");return r(),d(x,null,[t("nav",Nt,[t("div",St,[t("h1",Lt,[n(e,{to:"/",class:"primary-link"},{default:l(()=>[i("泰汪泰式料理")]),_:1})]),t("div",{class:"ham position-relative d-md-none","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",ref:"ham",onClick:o[0]||(o[0]=(...f)=>a.toggleHam&&a.toggleHam(...f))},Rt,512),t("ul",At,[t("li",jt,[n(e,{to:"/products",class:q(["nav-link primary-link fs-6",{active:a.isLinkActive}])},{default:l(()=>[i("線上訂餐 ")]),_:1},8,["class"])]),t("li",Et,[n(e,{to:"/about",class:"nav-link primary-link fs-6"},{default:l(()=>[i("關於我們")]),_:1})]),t("li",Pt,[n(e,{to:"/faq",class:"nav-link primary-link fs-6"},{default:l(()=>[i("常見問題")]),_:1})]),t("li",qt,[n(e,{to:"/contact",class:"nav-link primary-link fs-6"},{default:l(()=>[i("聯絡我們")]),_:1})])]),t("h1",Dt,[n(e,{to:"/",class:"primary-link",onClick:C(a.hideNavbar,["prevent"])},{default:l(()=>[i("泰汪泰式料理")]),_:1},8,["onClick"])]),t("div",Mt,[Ft,s.cart.carts&&s.cart.carts.length?(r(),d("div",Ht,[s.cart.carts?(r(),d("span",Bt,u(s.cart.carts.length),1)):k("",!0)])):k("",!0)])])]),t("div",{class:"collapse navbar-collapse w-100 bg-dark d-md-none position-fixed z-99",id:"navbarNav",ref:"navbarNav",onClick:o[1]||(o[1]=(...f)=>a.hideNavbar&&a.hideNavbar(...f))},[t("ul",Ut,[t("li",Ot,[n(e,{to:"/products",class:"nav-link mobile border-bottom border-secondary fs-5 px-16 py-16"},{default:l(()=>[i("線上訂餐 ")]),_:1})]),t("li",zt,[n(e,{to:"/about",class:"nav-link mobile border-bottom border-secondary fs-5 px-16 py-16"},{default:l(()=>[i("關於我們 ")]),_:1})]),t("li",Wt,[n(e,{to:"/faq",class:"nav-link mobile border-bottom border-secondary fs-5 px-16 py-16"},{default:l(()=>[i("常見問題 ")]),_:1})]),t("li",Gt,[n(e,{to:"/contact",class:"nav-link mobile fs-5 px-16 py-16"},{default:l(()=>[i("聯絡我們 ")]),_:1})])])],512),n(c)],64)}const Kt=b(It,[["render",Jt],["__scopeId","data-v-8d39be8e"]]);var Qt={VITE_API:"https://vue3-course-api.hexschool.io/v2",VITE_APIPATH:"taiwang",BASE_URL:"/Vue-week8-homework/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_API:Xt}=Qt,Yt={methods:{adminLogin(){if(this.getCookie("myToken"))this.checkLogin();else{this.$router.push("/adminLogin");return}},checkLogin(){y.post(`${Xt}/api/user/check`).then(()=>{this.$router.push("/admin")}).catch(()=>{this.$router.push("/adminLogin")})},getCookie(s){return document.cookie.replace(/(?:(?:^|.*;\s*)myToken\s*\=\s*([^;]*).*$)|^.*$/,"$1")}}},Zt={class:"bg-dark pt-30 pt-md-50"},ts={class:"container text-light"},ss={class:"d-md-flex justify-content-md-between boreder border-bottom border-light pb-30 pb-md-50"},es={class:"d-flex align-items-center mb-30 mb-md-0"},os={class:"mb-0"},as=D('<ul class="list-unstyled mb-30 mb-md-0"><li class="mb-8 mb-md-20"><h5 class="mb-0">營業資訊</h5></li><li class="mb-8">時間：每天<span class="text-notoSans ms-8">11:00 ~ 21:00</span></li><li class="mb-8">電話：<a href="tel:+886-2-2618-0123" class="primary-link text-notoSans">（02）2618-0123</a></li><li>地址：<a href="#" class="primary-link">新北市八里區龍源里汪汪街666號</a></li></ul><div class="mb-30 mb-md-0"><h5 class="mb-md-20">關注我們</h5><ul class="list-unstyled d-flex justify-content-md-around w-30 w-md-100"><li class="me-16 me-md-0"><a href="#"><i class="bi bi-facebook primary-link fs-4"></i></a></li><li><a href="#"><i class="bi bi-instagram primary-link fs-4"></i></a></li></ul></div>',2),ns=t("div",{class:"py-10 text-center"},[t("p",{class:"text-secondary text-notoSans fs-8 mb-0"},"本網站僅供個人作品使用，無任何商業用途")],-1);function is(s,o,_,g,h,a){const e=p("RouterLink");return r(),d("footer",Zt,[t("div",ts,[t("div",ss,[t("div",es,[t("h4",os,[n(e,{to:"/",class:"primary-link"},{default:l(()=>[i("泰汪泰式料理")]),_:1})])]),as,t("div",null,[t("button",{type:"button",class:"btn border border-white rounded-0 primary-link admin",onClick:o[0]||(o[0]=(...c)=>a.adminLogin&&a.adminLogin(...c))},"登入後台")])]),ns])])}const cs=b(Yt,[["render",is]]),ls={methods:{scrollTop(){window.scrollTo(0,0)}}},v=s=>(w("data-v-6f16ad25"),s=s(),T(),s),rs={class:"list-unstyled d-none d-xl-block position-fixed side-wrapper z-99"},ds={class:"mb-16"},_s=v(()=>t("span",{class:"d-inline-block side-icon d-flex justify-content-center align-items-center"},[t("i",{class:"bi bi-hand-index fs-2"})],-1)),ps=v(()=>t("span",{class:"fs-2"},"回到頂部",-1)),ms=[_s,ps],hs={class:"mb-16"},us=v(()=>t("span",{class:"d-inline-block side-icon d-flex justify-content-center align-items-center"},[t("i",{class:"bi bi-cup-straw fs-2"})],-1)),fs=v(()=>t("span",{class:"fs-2"},"線上訂餐",-1)),bs=v(()=>t("li",null,[t("a",{href:"tel:+886-2-2618-0123",class:"side-menu w-100 d-flex align-items-center"},[t("span",{class:"d-inline-block side-icon d-flex justify-content-center align-items-center"},[t("i",{class:"bi bi-telephone fs-2"})]),t("span",{class:"fs-2"},"聯絡我們")])],-1));function vs(s,o,_,g,h,a){const e=p("RouterLink");return r(),d("ul",rs,[t("li",ds,[t("a",{href:"#",class:"side-menu w-100 d-flex align-items-center",onClick:o[0]||(o[0]=C((...c)=>a.scrollTop&&a.scrollTop(...c),["prevent"]))},ms)]),t("li",hs,[n(e,{to:"/products",class:"side-menu w-100 d-flex align-items-center"},{default:l(()=>[us,fs]),_:1})]),bs])}const gs=b(ls,[["render",vs],["__scopeId","data-v-6f16ad25"]]),ks={components:{NavbarComponent:Kt,FooterComponent:cs,SideMenuComponent:gs}};function $s(s,o,_,g,h,a){const e=p("NavbarComponent"),c=p("RouterView"),f=p("FooterComponent"),A=p("SideMenuComponent");return r(),d(x,null,[n(e),n(c),n(f),n(A)],64)}const Ts=b(ks,[["render",$s]]);export{Ts as default};
