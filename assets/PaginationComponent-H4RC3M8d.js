import{a as u,_ as m,o,c,b as a,t as p,e as _,w as l,n as d,d as g,F as f,r as P}from"./index-eJtnKc-e.js";import{p as v}from"./productStore-bo1pXAXg.js";import{c as w}from"./cartStore-n3y8DkMw.js";const k={props:["item"],methods:{...u(v,["getProduct"]),...u(w,["addCart"])}},C={class:"card-img-wrapper w-100 rounded-top overflow-hidden"},S=["src","alt"],b={class:"py-16"},x={class:"fs-6 text-center"},D={class:"text-center text-danger fw-bold fs-6 mb-20"},y={class:"text-notoSans"},N={class:"text-center"};function T(t,e,i,h,s,n){return o(),c("a",{href:"#",class:"card w-75 w-md-100 mx-auto",onClick:e[1]||(e[1]=l(r=>t.getProduct(i.item.id),["prevent"]))},[a("div",C,[a("img",{src:i.item.imageUrl,class:"w-100 h-100 rounded-top",alt:i.item.title},null,8,S)]),a("div",b,[a("h2",x,p(i.item.title),1),a("p",D,[_("NT$ "),a("span",y,p(i.item.price),1)]),a("div",N,[a("button",{type:"button",class:"btn btn-primary link-light px-44",onClick:e[0]||(e[0]=l(r=>t.addCart(i.item.id),["prevent","stop"]))},"加入購物車")])])])}const I=m(k,[["render",T],["__scopeId","data-v-39817b17"]]),z={props:["products"],data(){return{allData:[],pageSize:12,currentPage:0}},methods:{updateShowData(){const t=[];for(let e=0;e<this.pageNum;e++)t[e]=this.allData.slice(this.pageSize*e,this.pageSize*(e+1));this.$emit("updateProducts",t[this.currentPage])},goToPage(t){t>=0&&t<this.pageNum&&(this.currentPage=t,window.scrollTo(0,0),this.updateShowData())},resetPage(){this.currentPage=0,this.updateShowData()}},computed:{pageNum(){return Math.ceil(this.allData.length/this.pageSize)}},watch:{products:{handler(t){this.allData=t,this.updateShowData()},immediate:!0}}},B={"aria-label":"Page navigation",class:"my-4 d-flex justify-content-center"},V={class:"pagination"},F=["onClick"];function M(t,e,i,h,s,n){return o(),c("nav",B,[a("ul",V,[s.allData.length>12?(o(),c("li",{key:0,class:d(["page-item",{disabled:s.currentPage===0}])},[a("a",{class:"page-link",href:"#",onClick:e[0]||(e[0]=l(r=>n.goToPage(s.currentPage-1),["prevent"]))},"«")],2)):g("",!0),(o(!0),c(f,null,P(n.pageNum,r=>(o(),c("li",{class:d(["page-item",{active:r===s.currentPage+1}]),key:r},[a("a",{class:"page-link",href:"#",onClick:l($=>n.goToPage(r-1),["prevent"])},p(r),9,F)],2))),128)),s.allData.length>12?(o(),c("li",{key:1,class:d(["page-item",{disabled:s.currentPage===n.pageNum-1}])},[a("a",{class:"page-link",href:"#",onClick:e[1]||(e[1]=l(r=>n.goToPage(s.currentPage+1),["prevent"]))},"»")],2)):g("",!0)])])}const L=m(z,[["render",M]]);export{I as P,L as a};
